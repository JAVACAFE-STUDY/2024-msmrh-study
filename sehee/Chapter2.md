# ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ì˜ ì‘ë™ë²•

ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ëŠ” í¬ê²Œ ìˆœìˆ˜ í•¨ìˆ˜ì™€ ë¹„ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ìˆœìˆ˜í•  ìˆ˜ ìˆì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ìƒíƒœë¥¼ ì‚¬ìš©í•  ê²½ìš° ìˆœìˆ˜í•˜ì§€ ì•Šê²Œ ë¨

ê·¸ëŸ¬ë‚˜ ìƒíƒœê°€ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œë§Œ ì‚¬ìš©ëœë‹¤ë©´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. â‡’ ì–µì œë¨(contained) íŠ¹ì„±

## ìˆœìˆ˜ í•¨ìˆ˜

ì˜¤ì§ ì¸ìˆ˜ì—ë§Œ ì˜ì¡´í•˜ì—¬ ê°™ì€ ì¸ìˆ˜ì— ëŒ€í•´ í•­ìƒ ê°™ì€ ê°’ì„ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜

```jsx
const addOne = (n) => n + 1;
```

## ë¹„ìˆœìˆ˜ í•¨ìˆ˜

ì¸ìˆ˜ ì™¸ë¶€ì˜ ê°’(ìƒíƒœ)ì— ì˜ì¡´í•˜ëŠ” í•¨ìˆ˜

```jsx
let base = 1;

const addBase = (n) => n + base;
```

ì™¸ë¶€ì—ì„œ í•¨ìˆ˜ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìœ¼ë‚˜, í•´ë‹¹ í•¨ìˆ˜ê°€ ì™¸ë¶€ ë³€ìˆ˜ì— ì˜ì¡´í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ëª¨ë¥´ê³  ë‹¤ë¥¸ ê³³ì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆìŒ

ìœ„ì™€ ê°™ì´ baseê°€ ì‹±ê¸€í„´ì¸ ê²½ìš°ë³´ë‹¤ëŠ”, ì¬ì‚¬ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆê²Œ ì»¨í…Œì´ë„ˆ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ë” ëª¨ë“ˆí™”ëœ ì ‘ê·¼ ë°©ì‹ì´ë‹¤.

```jsx
const createContainer = () => {
  let base = 1;
  const addBase = (n) => n + base;
  const changeBase = (b) => {
    base = b;
  };
  return { addBase, changeBase };
};

const { addBase, changeBase } = createContainer();
```

ì´ ê²½ìš° ê° ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

ì´ë•Œ ì»¨í…Œì´ë„ˆì˜ addBaseëŠ” ìˆœìˆ˜í•œ í•¨ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ, changeBaseë¥¼ í†µí•´ baseë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ì´ìƒ í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ **ë©±ë“±ì„±(idempotent)**ì´ ìˆë‹¤.

<aside>
ğŸ’¡ ë©±ë“±ì„± : ì—°ì‚°ì„ ì—¬ëŸ¬ ë²ˆ ì ìš©í•˜ë”ë¼ë„ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ì„±ì§ˆ,Â ì—°ì‚°ì„ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µí•˜ì—¬ë„ í•œ ë²ˆë§Œ ìˆ˜í–‰ëœ ê²ƒê³¼ ê°™ì€ ì„±ì§ˆ
</aside>

# ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì™€ props

ë¦¬ì•¡íŠ¸ëŠ” ìƒíƒœë¥¼ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI)ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜

ì¦‰ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ì´ë©° ê·¸ê²ƒì˜ ì¸ìˆ˜ë¥¼ propsë¼ê³  í•œë‹¤.

```jsx
const AddOne = ({ number }) => {
  return <div>{number + 1}</div>;
};
```

ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ì „ ì ˆì˜ addOne í•¨ìˆ˜ì™€ ë˜‘ê°™ì´ ì‘ë™í•˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë‹¤.

ì°¨ì´ì ì€ ì¸ìˆ˜ê°€ props ê°ì²´ì´ê³  ë°˜í™˜ê°’ì´ JSX í˜•ì‹ì¼ ë¿

# ì§€ì—­ ìƒíƒœì— ëŒ€í•œ useState ì´í•´í•˜ê¸°

```jsx
const AddBase = ({ number }) => {
  const [base, changeBase] = useState(1);
  return <div>{number + base}</div>;
};
```

ì´ í•¨ìˆ˜ëŠ” ì¸ìˆ˜ì— í¬í•¨ë˜ì§€ ì•Šì€ baseì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ì—„ë°€íˆ ë§í•´ ìˆœìˆ˜í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ baseë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ë©±ë“±ì„±ì„ ì§€ë‹Œë‹¤.

AddBase í•¨ìˆ˜ëŠ” changeBaseë¥¼ í•¨ìˆ˜ ì„ ì–¸ ë²”ìœ„ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì–µì œëœ ìƒíƒœì´ë‹¤.

â‡’ useStateë¥¼ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ **ì§€ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ**ì— í•´ë‹¹í•˜ë©°, ì»´í¬ë„ŒíŠ¸ëŠ” ì™¸ë¶€ì˜ ì–´ë–¤ ê²ƒì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì§€ì—­ì„±ì„ ë³´ì¥í•œë‹¤.

# ì§€ì—­ ìƒíƒœì˜ í•œê³„

í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´ ì „ì—­ ìƒíƒœê°€ í•„ìš”í•˜ë‹¤.

ì „ì—­ ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ì œì–´í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì»´í¬ë„ŒíŠ¸ ë™ì‘ì„ ì˜ˆì¸¡í•˜ê¸° ì–´ë µë‹¤ëŠ” ì¥ë‹¨ì ì´ ìˆë‹¤.

â‡’ ì§€ì—­ ìƒíƒœë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ì „ì—­ ìƒíƒœëŠ” ë³´ì¡° ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

# ì§€ì—­ ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

ì§€ì—­ ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëª‡ ê°€ì§€ íŒ¨í„´ì´ ìˆë‹¤.

- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ìƒíƒœë¥¼ ì •ì˜í•˜ëŠ” ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°(lifting state up) íŒ¨í„´
- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ë‚´ìš©ì„ ì •ì˜í•˜ëŠ” ë‚´ìš© ëŒì–´ì˜¬ë¦¬ê¸°(lifting content up) íŒ¨í„´

## ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°(Lifting State Up)

ë‘ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ê³µìœ í•˜ê³ ì í•  ë•Œ, ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  ìƒíƒœë¥¼ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ëŠ” íŒ¨í„´

```jsx
const Component1 = ({ count, setCount }) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount((c) => c + 1)}>Increment Count</button>
    </div>
  );
};

const Component2 = ({ count, setCount }) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount((c) => c + 1)}>Increment Count</button>
    </div>
  );
};

const Parent = () => {
  const [count, setCount] = useState(0);
  return (
    <>
      <Component1 count={count} setCount={setCount} />
      <Component2 count={count} setCount={setCount} />
    </>
  );
};
```

countëŠ” ì—¬ì „íˆ ì»´í¬ë„ŒíŠ¸ ë‚´ì— ì§€ì—­ ìƒíƒœë¡œ ì¡´ì¬í•˜ë©°, ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

ì´ íŒ¨í„´ì€ ì§€ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œ ì‘ë™í•˜ì§€ë§Œ, ParentëŠ” ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•´ í•˜ìœ„ íŠ¸ë¦¬ ì „ì²´ë¥¼ ë¦¬ë Œë”ë§í•˜ë¯€ë¡œ ì¼ë¶€ ìƒí™©ì—ì„œ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.

## ë‚´ìš© ëŒì–´ì˜¬ë¦¬ê¸°(Lifting Content Up)

ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¼ë©´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆì„ ìˆ˜ ìˆëŠ”ë°, ì´ ê²½ìš° ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸° íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ë¯€ë¡œ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.

ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ JSX ìš”ì†Œë¥¼ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë ¤, ìƒíƒœ ë³€ê²½ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” GrandParent ì»´í¬ë„ŒíŠ¸ì— JSXë¥¼ ë°°ì¹˜í•  ìˆ˜ ìˆë‹¤.

```jsx
const AdditionalInfo = () => {
  return <p>Some information</p>;
};

const Component1 = ({ count, setCount, additionalInfo }) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount((c) => c + 1)}>Increment Count</button>
      {additionalInfo}
    </div>
  );
};

const Parent = ({ additionalInfo }) => {
  const [count, setCount] = useState(0);
  return (
    <>
      <Component1
        count={count}
        setCount={setCount}
        additionalInfo={additionalInfo}
      />
      <Component2 count={count} setCount={setCount} />
    </>
  );
};

const GrandParent = () => {
  return <Parent additionalInfo={<AdditionalInfo />} />;
};
```

ìœ„ì˜ ê²½ìš° AdditionalInfo ì»´í¬ë„ŒíŠ¸ëŠ” countê°€ ë³€ê²½ë  ë•Œ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.

ì´ëŠ” ì„±ëŠ¥ë¿ë§Œ ì•„ë‹ˆë¼ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ êµ¬ì„±í•  ë•Œë„ ê³ ë ¤í•  ë§Œí•œ ê¸°ë²•ì´ë‹¤.

ì´ ê¸°ë²•ì˜ ë³€í˜•ìœ¼ë¡œ children propì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. childrenì€ JSX í˜•ì‹ìœ¼ë¡œ ì¤‘ì²©ëœ ìì‹ ìš”ì†Œë¥¼ í‘œí˜„í•˜ëŠ” íŠ¹ë³„í•œ prop ì´ë¦„ì´ë‹¤.

```jsx
const Component1 = ({ count, setCount, children }) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount((c) => c + 1)}>Increment Count</button>
      {children}
    </div>
  );
};

const Parent = ({ children }) => {
  const [count, setCount] = useState(0);
  return (
    <>
      <Component1 count={count} setCount={setCount}>
        {children}
      </Component1>
      <Component2 count={count} setCount={setCount} />
    </>
  );
};

const GrandParent = () => {
  return (
    <Parent>
      <AdditionalInfo />
    </Parent>
  );
};
```

ê°œë°œìë“¤ì€ ê°ì ì„ í˜¸í•˜ëŠ” ì ‘ê·¼ë²•ì„ ì„ íƒí•˜ë©´ ëœë‹¤.

# ì „ì—­ ìƒíƒœ ì‚¬ìš©í•˜ê¸°

## ì „ì—­ ìƒíƒœë€?

ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ì†í•˜ê³  ì»´í¬ë„ŒíŠ¸ì— ì˜í•´ ìº¡ìŠí™”ëœ ìƒíƒœë¥¼ ì§€ì—­ ìƒíƒœë¼ê³  í•œë‹¤.

ë”°ë¼ì„œ ìƒíƒœê°€ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì†í•˜ì§€ ì•Šê³  ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ ì „ì—­ ìƒíƒœë¼ê³  í•œë‹¤.

ì§€ì—­ ìƒíƒœì™€ ì „ì—­ ìƒíƒœëŠ” ëª…í™•í•˜ê²Œ ë‚˜ëˆ„ê¸° í˜ë“¤ë‹¤.

ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ìƒíƒœê°€ ê°œë…ì ìœ¼ë¡œ ì†í•œ ê³³ì´ ì–´ë””ì¸ì§€ ìƒê°í•´ ë³´ë©´ ì§€ì—­ ìƒíƒœì¸ì§€ ì „ì—­ ìƒíƒœì¸ì§€ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

ex) ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì˜ì¡´í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì°¨ì›ì˜ ì§€ì—­ ìƒíƒœê°€ ìˆì„ ê²½ìš°, ì´ëŠ” ì „ì—­ ìƒíƒœì´ë‹¤.

ì „ì—­ ìƒíƒœëŠ” ë©”ëª¨ë¦¬ì— í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œë§Œ ì¡´ì¬í•˜ëŠ” ì‹±ê¸€í„´ì¸ ê²½ìš°ì™€ ì•„ë‹Œ ê²½ìš°(ê³µìœ  ìƒíƒœ)ê°€ ìˆë‹¤. ê³µìœ  ìƒíƒœì¸ ì „ì—­ ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì— ëŒ€í•´ ì—¬ëŸ¬ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

```jsx
const createContainer = () => {
  let base = 1;
  const addBase = (n) => n + base;
  const changeBase = (b) => {
    base = b;
  };
  return { addBase, changeBase };
};

const container1 = createContainer();
const container2 = createContainer();

container1.changeBase(10);

console.log(container1.addBase(2)); // shows "12"
console.log(container2.addBase(2)); // shows "3"
```

ìœ„ ì˜ˆì œì—ì„œ baseëŠ” ê° ì»¨í…Œì´ë„ˆì— ê²©ë¦¬ë¼ ìˆìœ¼ë¯€ë¡œ ì»¨í…Œì´ë„ˆë§ˆë‹¤ ë‹¤ë¥¸ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

# ì–¸ì œ ì „ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í• ê¹Œ?

ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‘ ê°€ì§€ ìƒí™©ì—ì„œ ì „ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•œë‹¤.

1. **propì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ì§€ ì•Šì„ ë•Œ**

ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ì„œë¡œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆëŠ” ë‘ ì»´í¬ë„ŒíŠ¸ ê°„ì— ìƒíƒœë¥¼ ê³µìœ í•´ì•¼ í•  ê²½ìš°, ê³µí†µ ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœë¥¼ ë§Œë“  ë‹¤ìŒ ë‘ ì»´í¬ë„ŒíŠ¸ê¹Œì§€ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì€ ë²ˆê±°ë¡­ê³  ì¢‹ì§€ ëª»í•œ ê°œë°œì ê²½í—˜ì„ ì¤€ë‹¤. ë˜í•œ, ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë¯€ë¡œ ì„±ëŠ¥ì—ë„ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

ì´ ê²½ìš° ì „ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ê°€ ìƒíƒœë¥¼ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

2. **ì´ë¯¸ ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì— ìƒíƒœê°€ ìˆì„ ë•Œ**

ì–´ë–¤ ê²½ìš°ì—ëŠ” ì´ë¯¸ ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì— ì „ì—­ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆë‹¤. ex) ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¦¬ì•¡íŠ¸ ì—†ì´ íšë“í•œ ì‚¬ìš©ì ì¸ì¦ ì •ë³´

ì´ ê²½ìš° ì „ì—­ ìƒíƒœëŠ” ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì— ì¡´ì¬í•´ì•¼ í•˜ë©°, ì¸ì¦ ì •ë³´ëŠ” ì „ì—­ ìƒíƒœì— ì €ì¥ë  ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬í•œ ì˜ˆì œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```jsx
const globalState = {
  authInfo: { name: "React" },
};

const Component1 = () => {
  // useGlobalState is a pseudo hook
  const { authInfo } = useGlobalState();
  return <div>{authInfo.name}</div>;
};
```

ë‘ ë²ˆì§¸ ê²½ìš°ê°€ ì˜ ì•ˆ ì™€ë‹¿ì•„ì„œ Claudeë¥¼ í†µí•´ ì˜ˆì œ ì½”ë“œë¥¼ ë°›ì•„ì™”ë‹¤. ë¸Œë¼ìš°ì €ì˜ localStorageë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ˆì‹œë¡œ ë“¤ì–´ ì¤¬ë‹¤.

```jsx
// authService.js
// ì´ íŒŒì¼ì€ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ ì¼ë°˜ JavaScript ëª¨ë“ˆì…ë‹ˆë‹¤.

// localStorageì—ì„œ í† í°ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ì €ì¥í•˜ëŠ” í•¨ìˆ˜ë“¤
export const getToken = () => localStorage.getItem("authToken");
export const setToken = (token) => localStorage.setItem("authToken", token);
export const removeToken = () => localStorage.removeItem("authToken");

// í˜„ì¬ ì¸ì¦ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
export const isAuthenticated = () => !!getToken();

// ë¡œê·¸ì¸ í•¨ìˆ˜ (API í˜¸ì¶œì„ ê°€ì •)
export const login = async (username, password) => {
  // .. API í˜¸ì¶œ
  if (data.token) {
    setToken(data.token);
    return true;
  }
  return false;
};

// ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜
export const logout = () => {
  removeToken();
};

// App.js
import React from "react";
import { BrowserRouter as Router, Route, Redirect } from "react-router-dom";
import { isAuthenticated } from "./authService";

const PrivateRoute = ({ component: Component, ...rest }) => (
  <Route
    {...rest}
    render={(props) =>
      isAuthenticated() ? <Component {...props} /> : <Redirect to="/login" />
    }
  />
);
```
