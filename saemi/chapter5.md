# 리액트 컨텍스트와 구독을 이용한 컴포넌트 상태 공유

- 리액트 컨텍스트 사용 이점 : 각 하위 트리마다 서로 다른 값을 제공할 수 있다.
- 구독 사용 이점 : 불필요한 리렌더링을 막을 수 있다.

## 모듈 상태의 한계

- 모듈 상태는 리액트 컴포넌트 외부에 존재하는 전역으로 정의된 싱글턴이기 때문에 컴포넌트 트리나 하위 트리마다 다른 상태를 가질 수 없다는 한계가 있다.
- 컴포넌트 형식은 같지만 데이터가 다른 경우 스토어를 여러개 만들어야한다.

## 컨텍스트 사용이 필요한 시점

- 컨텍스트에 적절한 기본값을 설정하는 것은 중요하다. 컨텍스트 공급자는 기본 컨텍스트 값 또는 부모 공급자가 제공하는 값이 있는 경우 이 값을 재정의(override)하는 메서드라고 볼 수 있다.
- 서로 다른 하위 트리에 서로 다른 값을 제공해야 하는 경우
- 트리 최상위에서 하나의 공급자만 사용하는 경우 구독을 통한 모듈 상태를 사용하는 편이 더 나을 수도 있다.

## 컨텍스트와 구독 패턴 사용하기

- 하나의 컨텍스트를 사용해 전역 상태 값을 전파하는 것은 불필요한 리렌더링이 발생한다는 문제가 있다.- 구독을 이용한 모듈 상태는 전체 컴포넌트 트리에 대해 하나의 값만 제공한다는 문제가 있다.
- 컨텍스트와 구독을 함께 사용한다면 두 가지 문제점을 극복할 수 있다.

## 정리

- 서로 다른 하위 트리에 서로 다른 값이 있을 수 있으며, 불필요한 리렌더링을 피할 수 있다.
