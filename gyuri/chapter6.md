# 6 전역 상태 관리 라이브러리 소개

## 전역 상태 관리 문제 해결하기

전역 상태를 읽는 방법

- 전역 상태가 바뀌면 리랜더링이 발생하는데, 변경된 값이 컴포넌트와 관련 없는 경우에도 리랜더링이 발생한다. (무슨말이지?)
- 리랜더링 최적화가 필요

전역 상태에 값을 넣거나 갱신하는 방법

- 전역 상태는 여러 값을 가질 수 있다.
- globalVariable.b = 10 이런식으로 값을 변경하면 변경사항을 감지하고 컴포넌트를 리렌더링 할 방법이 없다.
- 변수가 직접 변경 될 수 없도록 클로저를 사용하여 숨길 수도 있다.

```tsx
const createContainer = () => {
  let state = { a: 1, b: 2 };
  const getState = () => state;
  const setState = (newState: typeof state) => {
    state = newState;
  };
  return { getState, setState };
};
```

> 범용 상태관리?
> Redux (단방향 데이터 흐름)
> XState (상태 머신 기반 접근 방식)
> 범용 상태 관리 접근 방식은 전역 상태 뿐만 아니라 지역 상태에도 유용

> Redux와 React는 관련이 없다.
> 리액트와 Redux를 묶는 것이 React-Redux 라이브러리
> Redux에는 리랜더링을 피할 수 있는 방법이 없으니 React-Redux에는 있다.

## 데이터 중심 접근 방식과 컴포넌트 중심 접근 방식 사용하기

### 데이터 중심 접근 방식

모듈 상태가 리액트 외부의 자바스크립트 메모리에 있기 때문에 모듈 상태를 사용하는 편이 더 적합하다 (?)
모듈 상태는 리액트가 렌더링을 시작하기 전이나, 모든 리액트 컴포넌트가 마운트 해제된 후에도 존재할 수 있다.

### 컴포넌트 중심 접근 방식

??? 무슨 말이지???

## 두 접근 방식의 예외

## 리렌더링 최적화

### 선택자 함수 사용

### 속성 접근 감지

#### useSelector와 useTrackedState의 차이점

### 아톰 사용
