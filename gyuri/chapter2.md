### 리액트 컴포넌트와 전역 상태 관리

- **리액트 컴포넌트 구조**  
   리액트 컴포넌트는 트리 구조로 구성되어 있으며, 컴포넌트 간의 상태 전달이 중요한 역할을 합니다.
- **전역 상태(Global State)**  
   전역 상태는 서로 멀리 떨어져 있는 두 개 이상의 컴포넌트에서 공통된 상태가 필요할 때 사용됩니다. 일반적으로 전역 상태는 컴포넌트 외부에서 리액트 컴포넌트의 동작을 제어하는 데 유용하지만, 컴포넌트의 동작을 예측하기 어려워질 수 있다는 단점이 있습니다.
- **상태 끌어올리기(Lifting State Up) 패턴**  
   컴포넌트 트리에서 상태를 하위 컴포넌트로 전달하기 위해, 상위 컴포넌트에서 상태를 정의하고 이를 하위 컴포넌트로 전달하는 패턴입니다. 예를 들어, 부모(Parent) 컴포넌트에서 상태를 정의하고, 이를 자식(Child1, Child2) 컴포넌트로 `props`를 통해 공유하는 방식입니다. 이때 부모 컴포넌트는 전체 하위 트리를 리렌더링하므로 성능 이슈가 발생할 수 있습니다.
- **내용 끌어올리기(Lifting Content Up) 패턴**  
   리렌더링이 필요 없는 컴포넌트는 상위 컴포넌트로 내용을 끌어올려 `props`로 전달하는 기법입니다. 이를 통해 불필요한 리렌더링을 방지할 수 있습니다.

### 지역 상태(Local State)와 전역 상태(Global State)

- **지역 상태(Local State)**  
   `useState` 훅을 사용하여 정의된 상태는 지역 상태에 해당합니다. 이 상태는 해당 컴포넌트 내에서만 사용되며 다른 컴포넌트에 영향을 미치지 않기 때문에 **지역성**이 보장됩니다.
- **전역 상태(Global State) 사용 시점**  
   전역 상태는 상태가 하나의 컴포넌트에만 속하지 않고 여러 컴포넌트에서 공유되는 경우에 사용합니다. 특히 **props drilling** 문제를 해결하기 위해 사용됩니다. 이는 상태를 전달하기 위해 여러 중간 컴포넌트를 거쳐야 할 때 불편하고, 중간 컴포넌트가 불필요하게 리렌더링되는 문제를 야기합니다.
  - 첫 번째 유형은 **싱글턴(Singleton)**으로, 특정 컨텍스트에서 상태가 단일 값을 가집니다.
  - 두 번째 유형은 **공유 상태(Shared State)**로, 여러 컴포넌트 간에 상태가 공유되지만 자바스크립트 메모리상에서 단일 값일 필요는 없습니다.

### 순수 함수와 비순수 함수

- **순수 함수(Pure Function)**  
   동일한 인수를 받으면 항상 동일한 값을 반환하는 함수입니다.
- **비순수 함수(Impure Function)**  
   상태를 사용하거나 변경하여 동일한 인수라도 다른 결과를 반환하는 함수입니다. 컴포넌트 내부에서만 상태를 관리하고 외부 컴포넌트에 영향을 미치지 않는 경우, 상태를 사용하는 비순수 함수가 허용됩니다.

### 전역 상태를 효과적으로 사용하는 방법

1. **prop 전달이 적절하지 않은 경우**  
   상태를 중간 컴포넌트를 통해 전달하는 과정(props drilling)이 복잡할 때 전역 상태가 유용합니다.
2. **리액트 외부에 상태가 이미 존재하는 경우**  
   상태가 리액트 컴포넌트 외부에서 정의된 경우(예: 빌드 타임에서 연산된 값) 전역 상태를 사용하는 것이 더 적합할 수 있습니다.

### 상태 관리 패턴

- **useContext**  
   전역 상태를 쉽게 전달하고 사용할 수 있는 훅입니다. 전역적으로 필요한 데이터를 여러 컴포넌트에서 쉽게 공유할 수 있도록 컨텍스트를 제공합니다.
- **useReducer**  
   상태와 상태를 업데이트하는 로직을 분리하여 관리할 수 있습니다. 복잡한 상태 로직을 다루거나 여러 상태를 업데이트할 때 유용하며, 상태를 조각내어 여러 컨텍스트로 분리할 수 있습니다.
- **useSubscription**  
   외부 소스(예: 데이터베이스, 이벤트 버스, 웹소켓 등)와 리액트 컴포넌트를 구독(subscribe)하여 연결하는 패턴을 제공합니다. 이 훅은 외부 데이터나 이벤트가 변경될 때마다 컴포넌트를 업데이트하는 데 유용합니다. 주로 외부 상태 관리 라이브러리와 함께 사용되며, **실시간 업데이트**가 필요한 경우에 적합합니다.
